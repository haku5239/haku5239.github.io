---
title: mysql常见优化方案 
date: 2020-05-17 15:55:58 
tags: 
 - blog 
categories: 
  - 编程
---


### mysql常见优化方案 

> 开启慢查询日志，定位有问题的sql，用explain命令分析优化
>
> 选择合适的索引列，一般将常用于`where`、`group by`、`order by`、`on`从句的列作为索引项，对于离散度不大的列没有必要建立索引
>
> 索引字段长度越小越好
>
> 离散度度大的字段放在联合索引的前部
>
> 使用可存下数据的最小数据类型
>
> 尽可能使用简单的数据类型，如`int`类型比`varchar`类型在mysql处理上更简单
>
> 尽可能使用`not null`定义字段，因为非`not null`需要一些额外的的字段进行存储，这样就会增加一些IO，可以对非`null`的字段设置一个默认值
>
> 调用函数，匹配表达式时无法使用索引
>
> 小心隐式类型转换，比如某个有索引的字段是字符型，当使用`select * from t where f = 1`时，索引会失效，因为实际涉及调用了类型转换的函数cast(f as signed int)

