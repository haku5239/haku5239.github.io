---
title: mysql索引命中规则 
date: 2020-08-28 13:26:41 
tags: 
 - blog
 - mysql
categories: 
  - 编程
---


### mysql索引命中规则 


- 对索引字段使用`like`时，以`%`开头，如`s like %str`，此时索引不生效，在末尾使用时，如`s like str%`，索引生效
- `or`的使用，当所有`or`条件判断的字段都有索引时，就会走索引，如有一个字段未设置索引，则会走全表扫描
- 字符串类型的索引，必须给字段加上单引号，才会走索引
- `where`条件中使用了`<>`、`!=`时不会走索引
- `where`后面的条件使用表达式，不会走索引
- `where`条件后面使用`not in`不走索引，使用`in`会走索引
- `where`条件使用`is not null` 不走索引，使用`is null`走索引
- 查询联合索引时，使用联合索引所有索引条件走索引，或者使用前部的索引条件时也会走索引，如索引`index(l1, l2)`，单独查询`l1`时会走索引，单独查询`l2`时则不走索引



索引的`key_len`是根据表定义计算而得的最大可能长度，在不损失精确度的情况下，越短越好

