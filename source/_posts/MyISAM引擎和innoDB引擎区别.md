---
 title: MyISAM引擎和innoDB引擎区别 
 date: 2021/05/14 14:11:48 
 tags: 
 - blog 
 - mysql
---


### MyISAM引擎和innoDB引擎区别 

> MyISAM引擎

- 不支持事物
- 不支持外键
- 非聚集索引，数据文件是分离的，索引保存的是数据文件的指针，主键索引和辅助索引是独立的
- 有一个变量用于保存整个表的行数，因为只要输出变量所以速度很快
- MyISAM最小的锁是表锁，一个更新语句会锁住整张表，导致其他查询和更新都被阻塞，导致并发受限
- 适合很少修改，但是有大量查询的场景

>innoDB引擎

- 支持事物
- 支持外键
- 聚集索引，聚簇索引的文件存放在逐渐索引的叶子节点上，因此InnoDB必须要有主键，通过主键索引效率很高，但是辅助索引需要两次查询，所以主键索引不宜太大，会使其他索引也都很大
- 不保存全表总行数，需要查询时需要扫全表
- InnoDB最小的表锁是行锁，行锁只在where主键时是有效的，非主键的时候会锁全表
- 当CRUD操作都大量时，选用InnoDB更好